import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.net.*;

public class Test {

    public static void main(String []args){
        System.out.println("Hello World");

        String ip = "192.168.1.1";
        runSystemCommand("ping -c " + ip);

        inet();

        //isOnline();

    }

    public static void runCmd() {
        Process process = null;
        List<String> processList = new ArrayList<String>();
        try {
            process = Runtime.getRuntime().exec("ping 192.168.1.1 -c 1");
            //process.waitFor();
            BufferedReader input = new BufferedReader(new InputStreamReader(process.getInputStream()));
            String line = "";
            while ((line = input.readLine()) != null) {
                processList.add(line);
            }
            input.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

        for (String line : processList) {
            System.out.println(line);
        }
    }

    public static boolean isOnline() {
        Runtime runtime = Runtime.getRuntime();
        try {
            Process ipProcess = runtime.exec("/system/bin/ping -c 1 8.8.8.8");
            int     exitValue = ipProcess.waitFor();
            System.out.println("exitValue: " + exitValue);
            return (exitValue == 0);
        } catch (IOException | InterruptedException e) { e.printStackTrace(); }

        System.out.println("isOnline: End");
        return false;
    }


    public static void runSystemCommand(String command) {
        System.out.println("runSystemCommand: begin");
        try {
            Process p = Runtime.getRuntime().exec(command);
            BufferedReader inputStream = new BufferedReader(
                    new InputStreamReader(p.getInputStream()));

            String s = "";
            // reading output stream of the command
            while ((s = inputStream.readLine()) != null) {
                System.out.println(s);
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println("runSystemCommand: end");
    }


    public static void inet() {
        try {
            String ipAddress = "192.168.1.1";
            InetAddress inet = InetAddress.getByName(ipAddress);
            System.out.println("Sending Ping Request to " + ipAddress);
            if (inet.isReachable(5000)){
                System.out.println(ipAddress + " is reachable.");
            } else {
                System.out.println(ipAddress + " NOT reachable.");
            }
        } catch ( Exception e ) {
            System.out.println("Exception:" + e.getMessage());
        }
    }

}



